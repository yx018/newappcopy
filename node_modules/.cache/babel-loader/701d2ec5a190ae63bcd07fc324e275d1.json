{"ast":null,"code":"var _jsxFileName = \"/Users/yangxu/newappcopy/src/test/Zones.js\";\nimport React, { Component } from \"react\"; // import superagent from \"superagent\";\n\nimport CreateZone from \"./CreateZone\";\nimport Zone from \"./Zone\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Zones extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"componentDidMount\"); // superagent\n    //   .get(\"/api/zone\")\n    //   .query(null)\n    //   .set(\"Accept\", \"application/json\")\n    //   .end((err, response) => {\n    //     if (err) {\n    //       alert(\"ERROR: \" + err);\n    //       return;\n    //     }\n    //     console.log(JSON.stringify(response.body));\n    //     let results = response.body.results;\n    //     this.setState({\n    //       list: results,\n    //     });\n    //   });\n  }\n\n  addZone(zone) {\n    let updatedZone = Object.assign({}, zone);\n    updatedZone[\"zipCodes\"] = updatedZone.zipCode.split(\",\");\n    console.log(\"ADD ZONE: \" + JSON.stringify(updatedZone));\n    superagent.post(\"/api/zone\").send(updatedZone).set(\"Accept\", \"application/json\").end((err, response) => {\n      if (err) {\n        alert(\"ERROR: \" + err.message);\n        return;\n      }\n\n      console.log(\"ZONE CREATED: \" + JSON.stringify(response));\n      let updatedList = Object.assign([], this.state.list);\n      updatedList.push(response.result);\n      this.setState({\n        list: updatedList\n      });\n    });\n  }\n\n  render() {\n    const listItems = this.state.list.map((zone, i) => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(Zone, {\n          currentZone: zone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), \" \"]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ol\", {\n        children: listItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CreateZone, {\n        onCreate: this.addZone.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/yangxu/newappcopy/src/test/Zones.js"],"names":["React","Component","CreateZone","Zone","Zones","constructor","props","state","list","componentDidMount","console","log","addZone","zone","updatedZone","Object","assign","zipCode","split","JSON","stringify","superagent","post","send","set","end","err","response","alert","message","updatedList","push","result","setState","render","listItems","map","i","bind"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,eAAe,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AAC3CI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE;AADK,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EADkB,CAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAEDC,EAAAA,OAAO,CAACC,IAAD,EAAO;AACZ,QAAIC,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,IAAlB,CAAlB;AACAC,IAAAA,WAAW,CAAC,UAAD,CAAX,GAA0BA,WAAW,CAACG,OAAZ,CAAoBC,KAApB,CAA0B,GAA1B,CAA1B;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAeQ,IAAI,CAACC,SAAL,CAAeN,WAAf,CAA3B;AAEAO,IAAAA,UAAU,CACPC,IADH,CACQ,WADR,EAEGC,IAFH,CAEQT,WAFR,EAGGU,GAHH,CAGO,QAHP,EAGiB,kBAHjB,EAIGC,GAJH,CAIO,CAACC,GAAD,EAAMC,QAAN,KAAmB;AACtB,UAAID,GAAJ,EAAS;AACPE,QAAAA,KAAK,CAAC,YAAYF,GAAG,CAACG,OAAjB,CAAL;AACA;AACD;;AACDnB,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBQ,IAAI,CAACC,SAAL,CAAeO,QAAf,CAA/B;AACA,UAAIG,WAAW,GAAGf,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKT,KAAL,CAAWC,IAA7B,CAAlB;AACAsB,MAAAA,WAAW,CAACC,IAAZ,CAAiBJ,QAAQ,CAACK,MAA1B;AACA,WAAKC,QAAL,CAAc;AACZzB,QAAAA,IAAI,EAAEsB;AADM,OAAd;AAGD,KAfH;AAgBD;;AAEDI,EAAAA,MAAM,GAAG;AACP,UAAMC,SAAS,GAAG,KAAK5B,KAAL,CAAWC,IAAX,CAAgB4B,GAAhB,CAAoB,CAACvB,IAAD,EAAOwB,CAAP,KAAa;AACjD,0BACE;AAAA,mBACG,GADH,eAEE,QAAC,IAAD;AAAM,UAAA,WAAW,EAAExB;AAAnB;AAAA;AAAA;AAAA;AAAA,gBAFF,EAE8B,GAF9B;AAAA,SAASwB,CAAT;AAAA;AAAA;AAAA;AAAA,cADF;AAMD,KAPiB,CAAlB;AASA,wBACE;AAAA,8BACE;AAAA,kBAAKF;AAAL;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,UAAD;AAAY,QAAA,QAAQ,EAAE,KAAKvB,OAAL,CAAa0B,IAAb,CAAkB,IAAlB;AAAtB;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;;AAlE0C","sourcesContent":["import React, { Component } from \"react\";\n// import superagent from \"superagent\";\nimport CreateZone from \"./CreateZone\";\nimport Zone from \"./Zone\";\n\nexport default class Zones extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"componentDidMount\");\n    // superagent\n    //   .get(\"/api/zone\")\n    //   .query(null)\n    //   .set(\"Accept\", \"application/json\")\n    //   .end((err, response) => {\n    //     if (err) {\n    //       alert(\"ERROR: \" + err);\n    //       return;\n    //     }\n    //     console.log(JSON.stringify(response.body));\n    //     let results = response.body.results;\n    //     this.setState({\n    //       list: results,\n    //     });\n    //   });\n  }\n\n  addZone(zone) {\n    let updatedZone = Object.assign({}, zone);\n    updatedZone[\"zipCodes\"] = updatedZone.zipCode.split(\",\");\n    console.log(\"ADD ZONE: \" + JSON.stringify(updatedZone));\n\n    superagent\n      .post(\"/api/zone\")\n      .send(updatedZone)\n      .set(\"Accept\", \"application/json\")\n      .end((err, response) => {\n        if (err) {\n          alert(\"ERROR: \" + err.message);\n          return;\n        }\n        console.log(\"ZONE CREATED: \" + JSON.stringify(response));\n        let updatedList = Object.assign([], this.state.list);\n        updatedList.push(response.result);\n        this.setState({\n          list: updatedList,\n        });\n      });\n  }\n\n  render() {\n    const listItems = this.state.list.map((zone, i) => {\n      return (\n        <li key={i}>\n          {\" \"}\n          <Zone currentZone={zone} />{\" \"}\n        </li>\n      );\n    });\n\n    return (\n      <div>\n        <ol>{listItems}</ol>\n        <CreateZone onCreate={this.addZone.bind(this)} />\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}